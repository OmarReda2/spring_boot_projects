{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./../../services/user-data.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction CourseComponent_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Edit Course\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourseComponent_span_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Close Edit\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourseComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Close adding Course\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourseComponent_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Add Course\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourseComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Close deleting Course\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourseComponent_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Delete Course\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CourseComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"form\")(2, \"div\", 9)(3, \"div\", 10)(4, \"label\");\n    i0.ɵɵtext(5, \"from:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 11);\n    i0.ɵɵelementStart(7, \"label\");\n    i0.ɵɵtext(8, \"to:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 12)(11, \"label\");\n    i0.ɵɵtext(12, \"name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 13);\n    i0.ɵɵelementStart(14, \"label\");\n    i0.ɵɵtext(15, \"description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"textarea\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 2)(18, \"button\", 15);\n    i0.ɵɵtext(19, \"Submit\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nfunction CourseComponent_div_22_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function CourseComponent_div_22_div_8_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const course_r9 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.deleteCourse(ctx_r11.id, course_r9.id));\n    });\n    i0.ɵɵtext(2, \"Delete\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction CourseComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 16)(2, \"div\", 17)(3, \"div\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 18);\n    i0.ɵɵtemplate(8, CourseComponent_div_22_div_8_Template, 3, 0, \"div\", 19);\n    i0.ɵɵelementStart(9, \"label\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"textarea\", 20);\n    i0.ɵɵlistener(\"ngModelChange\", function CourseComponent_div_22_Template_textarea_ngModelChange_11_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const course_r9 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(course_r9.description = $event);\n    })(\"ngModelChange\", function CourseComponent_div_22_Template_textarea_ngModelChange_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const course_r9 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.addUpdatedCourses(course_r9));\n    });\n    i0.ɵɵtext(12, \"                            \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const course_r9 = ctx.$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", course_r9.startDate, \": \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", course_r9.endDate, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.deletingEnabled);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(course_r9.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"name\", course_r9.description);\n    i0.ɵɵproperty(\"ngModel\", course_r9.description)(\"disabled\", ctx_r7.editDisabled);\n  }\n}\nfunction CourseComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"button\", 15);\n    i0.ɵɵtext(2, \"Edit\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class CourseComponent {\n  constructor(userDataService) {\n    this.userDataService = userDataService;\n    this.id = 1;\n    // courses:BehaviorSubject<Course[]>=new BehaviorSubject<Course[]>([])\n    this.updatedCoursesArr = new Map();\n    this.editDisabled = true;\n    this.addingEnabled = false;\n    this.deletingEnabled = false;\n  }\n  ngOnInit() {\n    this.getCourses();\n  }\n  toggleDeleting() {\n    this.deletingEnabled = !this.deletingEnabled;\n  }\n  toggleAdding() {\n    this.addingEnabled = !this.addingEnabled;\n  }\n  toggleEdit() {\n    this.editDisabled = !this.editDisabled;\n  }\n  // trackByItem(index: number, course: Course) {\n  //   return course.id;\n  // }\n  getCourses() {\n    this.userDataService.getCoursesData(this.id).subscribe(data => {\n      this.courses = data;\n      // this.courses.next(data);\n    });\n  }\n\n  addUpdatedCourses(course) {\n    this.updatedCoursesArr.set(course.id, course);\n    // console.log(link);\n  }\n\n  updateCourseData() {\n    this.updatedCoursesArr?.forEach(course => {\n      this.userDataService.updateCourseData(this.id, course.id, course).subscribe(data => {\n        alert(\"Course Updated Successfully\");\n      }, err => {\n        alert(\"Course Update Failed\");\n        console.log(err);\n      });\n    });\n  }\n  deleteCourse(userId, courseId) {\n    this.userDataService.deleteCourse(userId, courseId).subscribe(data => {\n      alert(\"Course Deleted Successfully\");\n      this.getCourses();\n    }, err => {\n      alert(\"Course Delete Failed\");\n      console.log(err);\n    });\n  }\n  static {\n    this.ɵfac = function CourseComponent_Factory(t) {\n      return new (t || CourseComponent)(i0.ɵɵdirectiveInject(i1.UserDataService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CourseComponent,\n      selectors: [[\"app-course\"]],\n      decls: 24,\n      vars: 9,\n      consts: [[1, \"alert\", \"alert-secondary\", \"m-3\", \"p-3\"], [3, \"ngSubmit\"], [1, \"text-end\"], [1, \"dropdown\", \"dropup\"], [\"type\", \"button\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"btn\", \"border-0\"], [1, \"dropdown-menu\"], [1, \"dropdown-item\", 3, \"click\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"row\", \"alert\", \"alert-dark\", \"border-4\"], [1, \"col-2\", \"alert\", \"alert-secondary\"], [\"type\", \"date\", 1, \"form-control\"], [1, \"col-10\", \"alert\", \"alert-dark\"], [\"type\", \"text\", 1, \"form-control\", \"w-25\"], [\"rows\", \"5\", \"type\", \"text\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-secondary\", \"mt-3\"], [1, \"row\"], [1, \"col-1\", \"alert\", \"alert-dark\"], [1, \"col-11\", \"alert\", \"alert-dark\"], [\"class\", \"text-end\", 4, \"ngIf\"], [\"rows\", \"5\", \"type\", \"text\", 1, \"form-control\", 3, \"name\", \"ngModel\", \"disabled\", \"ngModelChange\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"]],\n      template: function CourseComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function CourseComponent_Template_form_ngSubmit_1_listener() {\n            return ctx.updateCourseData();\n          });\n          i0.ɵɵelementStart(2, \"div\")(3, \"div\", 2)(4, \"div\", 3)(5, \"button\", 4);\n          i0.ɵɵtext(6, \"\\u2699\\uFE0F\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"ul\", 5)(8, \"li\")(9, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function CourseComponent_Template_button_click_9_listener() {\n            return ctx.toggleEdit();\n          });\n          i0.ɵɵtemplate(10, CourseComponent_span_10_Template, 2, 0, \"span\", 7);\n          i0.ɵɵtemplate(11, CourseComponent_span_11_Template, 2, 0, \"span\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"li\")(13, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function CourseComponent_Template_button_click_13_listener() {\n            return ctx.toggleAdding();\n          });\n          i0.ɵɵtemplate(14, CourseComponent_span_14_Template, 2, 0, \"span\", 7);\n          i0.ɵɵtemplate(15, CourseComponent_span_15_Template, 2, 0, \"span\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"li\")(17, \"button\", 6);\n          i0.ɵɵlistener(\"click\", function CourseComponent_Template_button_click_17_listener() {\n            return ctx.toggleDeleting();\n          });\n          i0.ɵɵtemplate(18, CourseComponent_span_18_Template, 2, 0, \"span\", 7);\n          i0.ɵɵtemplate(19, CourseComponent_span_19_Template, 2, 0, \"span\", 7);\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(20, \"div\");\n          i0.ɵɵtemplate(21, CourseComponent_div_21_Template, 20, 0, \"div\", 7);\n          i0.ɵɵtemplate(22, CourseComponent_div_22_Template, 13, 7, \"div\", 8);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(23, CourseComponent_div_23_Template, 3, 0, \"div\", 7);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngIf\", ctx.editDisabled === true);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.editDisabled === false);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.addingEnabled === true);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.addingEnabled === false);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.deletingEnabled === true);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.deletingEnabled === false);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.addingEnabled);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.courses);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.editDisabled);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;IAcgCA,4BAAkC;IAAAA,2BAAW;IAAAA,iBAAO;;;;;IACpDA,4BAAmC;IAAAA,0BAAU;IAAAA,iBAAO;;;;;IAMpDA,4BAAmC;IAAAA,mCAAmB;IAAAA,iBAAO;;;;;IAC7DA,4BAAoC;IAAAA,0BAAU;IAAAA,iBAAO;;;;;IAMrDA,4BAAqC;IAAAA,qCAAqB;IAAAA,iBAAO;;;;;IACjEA,4BAAsC;IAAAA,6BAAa;IAAAA,iBAAO;;;;;IAY1EA,2BAA2B;IAIJA,qBAAK;IAAAA,iBAAQ;IAACA,4BAAwC;IAC7DA,6BAAO;IAAAA,mBAAG;IAAAA,iBAAQ;IAACA,4BAAwC;IAC/DA,iBAAM;IAENA,gCAAqC;IAG1BA,qBAAI;IAAAA,iBAAQ;IACnBA,6BAA6C;IAE7CA,8BAAO;IAAAA,4BAAW;IAAAA,iBAAQ;IAC1BA,gCAA+D;IACnEA,iBAAM;IAENA,+BAAsB;IACoCA,uBAAM;IAAAA,iBAAS;;;;;;IAsBzEA,8BAA8C;IAClCA;MAAAA;MAAA;MAAA;MAAA,OAASA,6DAA0B;IAAA,EAAC;IAA2BA,sBAAM;IAAAA,iBAAS;;;;;;IAbtGA,2BAAoC;IAIpBA,YACJ;IAAAA,iBAAM;IACNA,2BAAK;IACDA,YACJ;IAAAA,iBAAM;IAGVA,+BAAqC;IACjCA,wEAEM;IAGNA,6BAAO;IAAAA,aAAe;IAAAA,iBAAQ;IAC9BA,qCAE8B;IAD1BA;MAAA;MAAA;MAAA,OAAaA,8CAA0B;IAAA,EAAP;MAAA;MAAA;MAAA;MAAA,OAAkBA,mDAAyB;IAAA,EAA3C;IAEpCA;IAAAA,iBAAW;;;;;IAjBPA,eACJ;IADIA,qDACJ;IAEIA,eACJ;IADIA,kDACJ;IAIuBA,eAAqB;IAArBA,6CAAqB;IAKrCA,eAAe;IAAfA,oCAAe;IAC8BA,eAA6B;IAA7BA,uDAA6B;IAC7EA,+CAAgC;;;;;IAWxDA,2BAA2B;IAC+BA,oBAAI;IAAAA,iBAAS;;;AC3F/E,OAAM,MAAOC,eAAe;EAe1BC,YAAoBC,eAAgC;IAAhC,oBAAe,GAAfA,eAAe;IAbnC,OAAE,GAAW,CAAC;IAEd;IACA,sBAAiB,GAAoC,IAAIC,GAAG,EAA8B;IAC1F,iBAAY,GAAY,IAAI;IAC5B,kBAAa,GAAY,KAAK;IAC9B,oBAAe,GAAY,KAAK;EAOwB;EACxDC,QAAQ;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAIAC,cAAc;IACZ,IAAI,CAACC,eAAe,GAAG,CAAC,IAAI,CAACA,eAAe;EAC9C;EACAC,YAAY;IACV,IAAI,CAACC,aAAa,GAAG,CAAC,IAAI,CAACA,aAAa;EAC1C;EACAC,UAAU;IACR,IAAI,CAACC,YAAY,GAAG,CAAC,IAAI,CAACA,YAAY;EAExC;EACA;EACA;EACA;EAQAN,UAAU;IACR,IAAI,CAACH,eAAe,CAACU,cAAc,CAAC,IAAI,CAACC,EAAE,CAAC,CAACC,SAAS,CACpDC,IAAI,IAAG;MACL,IAAI,CAACC,OAAO,GAAGD,IAAI;MACnB;IACF,CAAC,CACF;EACH;;EACAE,iBAAiB,CAACC,MAAc;IAC9B,IAAI,CAACC,iBAAiB,CAACC,GAAG,CAACF,MAAM,CAACL,EAAE,EAAEK,MAAM,CAAC;IAC7C;EACF;;EACAG,gBAAgB;IACd,IAAI,CAACF,iBAAiB,EAAEG,OAAO,CAACJ,MAAM,IAAG;MACvC,IAAI,CAAChB,eAAe,CAACmB,gBAAgB,CAAC,IAAI,CAACR,EAAE,EAAEK,MAAM,CAACL,EAAE,EAAEK,MAAM,CAAC,CAACJ,SAAS,CACzEC,IAAI,IAAG;QACLQ,KAAK,CAAC,6BAA6B,CAAC;MAItC,CAAC,EACDC,GAAG,IAAG;QACJD,KAAK,CAAC,sBAAsB,CAAC;QAC7BE,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB,CAAC,CACF;IACH,CAAC,CAAC;EACJ;EACAG,YAAY,CAACC,MAAc,EAAEC,QAAiB;IAC5C,IAAI,CAAC3B,eAAe,CAACyB,YAAY,CAACC,MAAM,EAAEC,QAAQ,CAAC,CAACf,SAAS,CAC3DC,IAAI,IAAG;MACLQ,KAAK,CAAC,6BAA6B,CAAC;MACpC,IAAI,CAAClB,UAAU,EAAE;IAEnB,CAAC,EACDmB,GAAG,IAAG;MACJD,KAAK,CAAC,sBAAsB,CAAC;MAC7BE,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAClB,CAAC,CACF;EACH;;;uBAlFWxB,eAAe;IAAA;EAAA;;;YAAfA,eAAe;MAAA8B;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDV5BnC,8BAA4C;UAGlCA;YAAA,OAAYoC,sBAAkB;UAAA,EAAC;UACjCpC,2BAAK;UAMiCA,4BAAE;UAAAA,iBAAS;UACrCA,6BAA0B;UAEVA;YAAA,OAASoC,gBAAY;UAAA,EAAC;UAC1BpC,oEAAoD;UACpDA,oEAAoD;UACxDA,iBAAS;UAGbA,2BAAI;UACQA;YAAA,OAASoC,kBAAc;UAAA,EAAC;UAC5BpC,oEAA6D;UAC7DA,oEAAqD;UACzDA,iBAAS;UAGbA,2BAAI;UACQA;YAAA,OAASoC,oBAAgB;UAAA,EAAC;UAC9BpC,oEAAiE;UACjEA,oEAA0D;UAC9DA,iBAAS;UASzBA,4BAAK;UAEDA,mEAuBM;UAMNA,mEAyBM;UACVA,iBAAM;UAIVA,kEAEM;UACVA,iBAAO;;;UAzF4BA,gBAAyB;UAAzBA,gDAAyB;UACzBA,eAA0B;UAA1BA,iDAA0B;UAM1BA,eAA0B;UAA1BA,iDAA0B;UAC1BA,eAA2B;UAA3BA,kDAA2B;UAM3BA,eAA4B;UAA5BA,mDAA4B;UAC5BA,eAA6B;UAA7BA,oDAA6B;UAY9CA,eAAmB;UAAnBA,wCAAmB;UA6BDA,eAAU;UAAVA,qCAAU;UA8BpCA,eAAmB;UAAnBA,wCAAmB","names":["i0","CourseComponent","constructor","userDataService","Map","ngOnInit","getCourses","toggleDeleting","deletingEnabled","toggleAdding","addingEnabled","toggleEdit","editDisabled","getCoursesData","id","subscribe","data","courses","addUpdatedCourses","course","updatedCoursesArr","set","updateCourseData","forEach","alert","err","console","log","deleteCourse","userId","courseId","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["E:\\important - (To Backup)\\Programming (Practice & Projects)\\Projects\\CV app\\forntend\\cResume\\src\\app\\components\\course\\course.component.html","E:\\important - (To Backup)\\Programming (Practice & Projects)\\Projects\\CV app\\forntend\\cResume\\src\\app\\components\\course\\course.component.ts"],"sourcesContent":["<div class=\"alert alert-secondary  m-3 p-3\">\n\n\n    <form (ngSubmit)=\"updateCourseData()\">\n        <div>\n\n            <!-- course edit, delete and adding buttons -->\n            <div class=\"text-end\">\n                <div class=\"dropdown dropup \">\n                    <button type=\"button\" class=\"btn border-0 \" data-bs-toggle=\"dropdown\"\n                        aria-expanded=\"false\">⚙️</button>\n                    <ul class=\"dropdown-menu\">\n                        <li>\n                            <button (click)=\"toggleEdit()\" class=\"dropdown-item\">\n                                <span *ngIf=\"editDisabled===true\">Edit Course</span>\n                                <span *ngIf=\"editDisabled===false\">Close Edit</span>\n                            </button>\n                        </li>\n\n                        <li>\n                            <button (click)=\"toggleAdding()\" class=\"dropdown-item\">\n                                <span *ngIf=\"addingEnabled===true\">Close adding Course</span>\n                                <span *ngIf=\"addingEnabled===false\">Add Course</span>\n                            </button>\n                        </li>\n\n                        <li>\n                            <button (click)=\"toggleDeleting()\" class=\"dropdown-item\">\n                                <span *ngIf=\"deletingEnabled===true\">Close deleting Course</span>\n                                <span *ngIf=\"deletingEnabled===false\">Delete Course</span>\n                            </button>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n\n\n\n\n            <div>\n                <!-- add course -->\n                <div *ngIf=\"addingEnabled\">\n                    <form>\n                        <div class=\"row alert alert-dark border-4\">\n                            <div class=\"col-2  alert alert-secondary\">\n                                <label>from:</label> <input type=\"date\" class=\"form-control\">\n                                <label>to:</label> <input type=\"date\" class=\"form-control\">\n                            </div>\n                            \n                            <div class=\"col-10 alert alert-dark\">\n                                \n                                \n                                <label>name</label>\n                                <input type=\"text\" class=\"form-control w-25\">\n                                \n                                <label>description</label>\n                                <textarea rows=\"5\" type=\"text\" class=\"form-control\"></textarea>\n                            </div>\n\n                            <div class=\"text-end\">\n                                <button class=\"btn btn-secondary mt-3 \" type=\"submit\">Submit</button>\n                            </div>\n                        </div>\n                    </form>\n                </div>\n\n                \n                \n                \n                <!-- <div *ngFor=\"let course of (courses | async) trackBy:trackByItem\"> -->\n                <div *ngFor=\"let course of courses\">\n                    <div class=\"row\">\n                        <div class=\"col-1 alert alert-dark\">\n                            <div>\n                                {{course.startDate}}:\n                            </div>\n                            <div>\n                                {{course.endDate}}\n                            </div>\n                        </div>\n\n                        <div class=\"col-11 alert alert-dark\">\n                            <div class=\"text-end\" *ngIf=\"deletingEnabled\">\n                                <button (click)=\"deleteCourse(id,course.id)\" class=\"btn btn-secondary\">Delete</button>\n                            </div>\n\n\n                            <label>{{course.name}}</label>\n                            <textarea rows=\"5\" type=\"text\" class=\"form-control\" name=\"{{course.description}}\"\n                                [(ngModel)]=\"course.description\" (ngModelChange)=\"addUpdatedCourses(course)\"\n                                [disabled]=\"editDisabled\">\n                            </textarea>\n                            <!-- <span>{{course.description}}</span> -->\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n        <div *ngIf=\"!editDisabled\">\n            <button class=\"btn btn-secondary mt-3 \" type=\"submit\">Edit</button>\n        </div>\n    </form>\n</div>","import { UserDataService } from './../../services/user-data.service';\nimport { Component, OnInit } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { Course } from 'src/app/common/course';\n\n@Component({\n  selector: 'app-course',\n  templateUrl: './course.component.html',\n  styleUrls: ['./course.component.css']\n})\nexport class CourseComponent implements OnInit {\n\n  id: number = 1;\n  courses?: Course[];\n  // courses:BehaviorSubject<Course[]>=new BehaviorSubject<Course[]>([])\n  updatedCoursesArr: Map<number | undefined, Course> = new Map<number | undefined, Course>();\n  editDisabled: boolean = true;\n  addingEnabled: boolean = false;\n  deletingEnabled: boolean = false\n\n\n\n\n\n\n  constructor(private userDataService: UserDataService) { }\n  ngOnInit(): void {\n    this.getCourses()\n  }\n\n\n\n  toggleDeleting(): void {\n    this.deletingEnabled = !this.deletingEnabled\n  }\n  toggleAdding(): void {\n    this.addingEnabled = !this.addingEnabled\n  }\n  toggleEdit(): void {\n    this.editDisabled = !this.editDisabled\n\n  }\n  // trackByItem(index: number, course: Course) {\n  //   return course.id;\n  // }\n\n\n\n\n\n\n\n  getCourses() {\n    this.userDataService.getCoursesData(this.id).subscribe(\n      data => {\n        this.courses = data;\n        // this.courses.next(data);\n      }\n    )\n  }\n  addUpdatedCourses(course: Course) {\n    this.updatedCoursesArr.set(course.id, course)\n    // console.log(link);\n  }\n  updateCourseData() {\n    this.updatedCoursesArr?.forEach(course => {\n      this.userDataService.updateCourseData(this.id, course.id, course).subscribe(\n        data => {\n          alert(\"Course Updated Successfully\")\n\n\n\n        },\n        err => {\n          alert(\"Course Update Failed\")\n          console.log(err);\n        }\n      )\n    });\n  }\n  deleteCourse(userId: number, courseId?: number) {\n    this.userDataService.deleteCourse(userId, courseId).subscribe(\n      data => {\n        alert(\"Course Deleted Successfully\");\n        this.getCourses();\n\n      },\n      err => {\n        alert(\"Course Delete Failed\")\n        console.log(err);\n      }\n    )\n  }\n\n\n\n\n\n\n\n\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}